{{ '//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js' | script_tag }}
{{ '"//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"' | script_tag }}
{{ '"//code.jquery.com/jquery-3.3.1.slim.min.js crossorigin="anonymous"' | script_tag }}
{{ '"//stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"' | script_tag }}
{{ '"//stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous"' | stylesheet_tag }}


<h2 class="reserve-header">Reserve Your Equipment Today</h2>
<div class="thankYou">
  <h2>Thank You</h2>
  <p id="thankyouNote">Someone will be reaching out to you soon to confirm your rental. In the meantime, feel free to browse our store and the great deals we offer.</p>
</div>
<p id="easy123"> Its as easy as 1-2-3!</p>

<br>
<div class="circledSteps">
  <img id="stepone" src="https://cdn.shopify.com/s/files/1/0067/8549/9194/files/step3.png?15474423734316688999" alt="step one">
  <img id="steptwo" src="https://cdn.shopify.com/s/files/1/0067/8549/9194/files/step2.png?15474423734316688999" alt="step two">
</div>
{% comment %} CALENDAR PICK/DROP OFF DATES {% endcomment %}

<div class="pickup-Form">
  <form class="pickup-Form">
    <div class="pickup">
      Pickup Date:
      <input type="date" name="pickup" id="pickup">
    </div>
      <br>
    <div class="return">
      Return Date:
      <input type="date" name="return" id="returnIt">
    </div>
    <div class="submitDate">
      <input type="submit" class="btn btn-primary" id="submitBtn">
    </div>
  </form>
</div>

{% comment %} THIS SECTION IS USER INFO FORMS {% endcomment %}

<div class="customer-info">
  <form>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputFirstName">First Name</label>
      <input type="text" class="form-control" id="firstName" placeholder="First Name">
    </div>
    <div class="form-group col-md-6">
      <label for="inputLastName">Last Name</label>
      <input type="text" class="form-control" id="lastName" placeholder="Last Name">
    </div>
    <div class="form-group col-md-6">
      <label for="inputEmail4">Email</label>
      <input type="email" class="form-control" id="email" placeholder="Email">
    </div>
    <div class="form-group col-md-6">
      <label for="contactInfo">Contact Number</label>
      <input type="number" pattern="^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}$" maxlength="10" class="form-control" id="contact" placeholder="contact">
    </div>
  </div>
  <div class="form-group col-md-12">
    <label for="inputAddress">Delivery Address</label>
    <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
  </div>
  <div class="form-group col-md-12">
    <label for="inputAddress2">Address 2</label>
    <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputCity">City</label>
      <input type="text" class="form-control" id="inputCity">
    </div>
    <div class="form-group col-md-4">
      <label for="inputState">State</label>
      <select id="inputState" class="form-control">
        <option selected>Choose...</option>
        <option value="---">---</option><option value="Alabama">Alabama</option><option value="Alaska">Alaska</option><option value="Arizona">Arizona</option><option value="Arkansas">Arkansas</option><option value="California">California</option><option value="Colorado">Colorado</option><option value="Connecticut">Connecticut</option><option value="Delaware">Delaware</option><option value="District of Columbia">District of Columbia</option><option value="Florida">Florida</option><option value="Georgia">Georgia</option><option value="Guam">Guam</option><option value="Hawaii">Hawaii</option><option value="Idaho">Idaho</option><option value="Illinois">Illinois</option><option value="Indiana">Indiana</option><option value="Iowa">Iowa</option><option value="Kansas">Kansas</option><option value="Kentucky">Kentucky</option><option value="Louisiana">Louisiana</option><option value="Maine">Maine</option><option value="Maryland">Maryland</option><option value="Massachusetts">Massachusetts</option><option value="Michigan">Michigan</option><option value="Minnesota">Minnesota</option><option value="Mississippi">Mississippi</option><option value="Missouri">Missouri</option><option value="Montana">Montana</option><option value="Nebraska">Nebraska</option><option value="Nevada">Nevada</option><option value="New Hampshire">New Hampshire</option><option value="New Jersey">New Jersey</option><option value="New Mexico">New Mexico</option><option value="New York">New York</option><option value="North Carolina">North Carolina</option><option value="North Dakota">North Dakota</option><option value="Northern Marianas Islands">Northern Marianas Islands</option><option value="Ohio">Ohio</option><option value="Oklahoma">Oklahoma</option><option value="Oregon">Oregon</option><option value="Pennsylvania">Pennsylvania</option><option value="Puerto Rico">Puerto Rico</option><option value="Rhode Island">Rhode Island</option><option value="South Carolina">South Carolina</option><option value="South Dakota">South Dakota</option><option value="Tennessee">Tennessee</option><option value="Texas">Texas</option><option value="Utah">Utah</option><option value="Vermont">Vermont</option><option value="Virginia">Virginia</option><option value="Virgin Islands">Virgin Islands</option><option value="Washington">Washington</option><option value="West Virginia">West Virginia</option><option value="Wisconsin">Wisconsin</option><option value="Wyoming">Wyoming</option>
      </select>
    </div>
    <div class="form-group col-md-2">
      <label for="inputZip">Zip</label>
      <input type="text" pattern="[0-9]{5}" minlength="5" maxlength="5" class="form-control" id="inputZip" placeholder="12345">
    </div>
  </div>
  <div class="form-group">
    <div class="form-check">
      
    </div>
  </div>
  <button type="submit" class="btn btn-primary" id="btnUserInfo" data-toggle="modal" data-target="#exampleModalCenter">Submit</button>
</form>

</div>

{% comment %} THIS IS CONFIRMATION SECTION {% endcomment %}

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Neighborly's Equipment is at your displosal</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
        {% comment %} THIS IS THE POP UP DIV {% endcomment %}
        <div class="modal-body">
          <h5>Please check your info...</h5>
          {% comment %} <p>This <a href="#" role="button" class="btn btn-secondary popover-test" title="Popover title" data-content="Popover body content is set in this attribute.">button</a> triggers a popover on click.</p> {% endcomment %}
          <pre>
            <div class="infoContainer">
              <p>First Name: <p id="nameDisplay"></p></p> 
              <p>Last Name: <p id="lastnameDisplay"></p></p>
              <p>Delivery Address:  <p id="addressDisplay"></p></p>
              <p>Contact: <p id="contactDisplay"></p></p>
              <p>Email: <p id="emailDisplay"></p></p>
              <p>Pick-up on: <p id="pickDisplay"></p></p>
              <p>Return on: <p id="returnDisplay"></p></p>
            </div>
          </pre>
        </div>
        {% comment %} END POP UP DIV {% endcomment %}
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" id="saveChanges">Save changes</button>
      </div>
    </div>
  </div>
</div>



<script>

$(".pickup-Form").show();

// THIS SECTION FOR CLICKING PICKUP/RETURN DATES
$("#submitBtn").on("click", (e) => {
  e.preventDefault();

 
  let pickup = $("#pickup").val().trim();
  let returnIt = $("#returnIt").val().trim();
  let pickupDate  = pickup.toString().slice(-2);
  let returnItDate = returnIt.toString().slice(-2);
  let date = new Date();
  let todaysDate = date.getDate();
  //print user input in the console
  console.log(pickup);
  console.log(returnIt);
  console.log(pickupDate);
  console.log(returnItDate);

  if(!pickup || !returnIt){
    alert("Uh oh!, check your the dates...");
    return false;
  }
  if(returnItDate < pickupDate) {
    alert("Looks like we're returning the equipment on a wrong date...");
    return false;
  }
  if(pickupDate < todaysDate){
    alert("Uh oh, cant pick it up from the past...");
    return false;
  }

  $(".customer-info").show();
  $(".pickup-Form").hide();
  $("#stepone").hide();
  $("#steptwo").show();
})

 // THIS SECTION FOR SUBMITTING USER INFO
$("#btnUserInfo").on("click", (e) => {
  e.preventDefault();
  let fName = $("#firstName").val().trim();
  let lName = $("#lastName").val().trim();
  let email = $("#email").val().trim();
  let contact = $("#contact").val().trim();
  let address = $("#inputAddress").val().trim();
  let address1 = $("#inputAddress2").val().trim();
  let city = $("#inputCity").val().trim();
  let state = $("#inputState").val().trim();
  let zip = $("#inputZip").val().trim();

  //print user input in the console
  console.log(fName + " " + lName + " " +  email + " " +
              address + " " + address1 + " " + city + " " + state + " " + zip);

  if(!fName || !lName || !email || !address || !city || !state || !zip ){
    alert("Uh oh!, check your information...");
    return false;
  }

  $(".customer-info").hide();
  $(".confirmation").show();
  $('#exampleModal').show();

  //here we display the user input in the modal
  $("#nameDisplay").html(fName);
  $("#lastnameDisplay").html(lName);
  $("#addressDisplay").html( "\n " + address + " " + address1 + "\n " + city + " " + state + " " + zip);
  $("#contactDisplay").html(contact);
  $("#emailDisplay").html(email);
  $("#pickDisplay").html(pickup);
  $("#returnDisplay").html(returnIt);

})

$("#saveChanges").on("click", ()=> {
  $(".thankYou").show();
  $("#thankyouNote").show();
  $(".reserve-header").hide();
  $("#easy123").hide();
  $("#steptwo").hide();


})
</script>

